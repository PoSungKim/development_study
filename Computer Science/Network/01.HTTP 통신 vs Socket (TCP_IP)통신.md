## HTTP 통신 vs Socket (TCP_IP)통신
> 
* dd

<hr>
<br>

## HTTP 통신
#### Client Request -> Server Response 단발성 연결

<br>

### [HTTP Server]
```java
package Network;
import com.sun.net.httpserver.Headers;
import com.sun.net.httpserver.HttpExchange;
import com.sun.net.httpserver.HttpServer;
import com.sun.net.httpserver.HttpHandler;
import java.io.IOException;
import java.io.OutputStream;
import java.net.InetSocketAddress;
import java.net.URI;
import java.nio.charset.StandardCharsets;
import java.util.concurrent.Executors;
import java.util.concurrent.ThreadPoolExecutor;
import java.util.logging.*;

public class HttpServerManager {

    private static final Logger logger = Logger.getLogger("HttpServerManager");

    private static class MyHttpHandler implements HttpHandler {

        @Override
        public void handle(HttpExchange exchange) throws IOException {
            System.out.printf("Current Thread : %s\n", Thread.currentThread().getName());

            OutputStream responseBody = exchange.getResponseBody();
            Headers headers = exchange.getRequestHeaders();
            URI uri = exchange.getRequestURI();
            String method = exchange.getRequestMethod();

            StringBuilder sb = new StringBuilder();
            sb.append("<!DOCTYPE html>\n")
                    .append("    <body>\n")
                    .append("        <h1>\n")
                    .append("            Response to Your ").append(method).append(" Request\n")
                    .append("        </h1>\n")
                    .append("    </body>\n")
                    .append("</html>\n");

            String htmlResponse = sb.toString();

            headers = exchange.getResponseHeaders();
            headers.add("Content-Type", "text/html;charset=UTF-8");

            exchange.sendResponseHeaders(200, htmlResponse.length());
            responseBody.write(htmlResponse.getBytes(StandardCharsets.UTF_8));
            logger.log(Level.INFO, String.format("uri : %s\nmethod : %s\nheaders : %s\nresponseBody : %s\n", uri, method, headers.entrySet(), htmlResponse));

            responseBody.close();
            exchange.close();
        }
    }

    public static void main(String[] args) throws IOException {

        HttpServer httpServer = HttpServer.create(new InetSocketAddress("localhost", 8000), 0);
        httpServer.createContext("/", new MyHttpHandler());

        ThreadPoolExecutor threadPoolExecutor = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);
        httpServer.setExecutor(threadPoolExecutor);

        httpServer.start();
        logger.log(Level.INFO, "HttpServer is running on localhost:8000\n");

        System.out.println("Please press 'Enter' to stop the server.\n\n");

        while(true) {
            int num = System.in.read();
            System.out.printf("Current Thread : %s\n", Thread.currentThread().getName());
            System.out.println(threadPoolExecutor.toString());

            threadPoolExecutor.shutdown();
            if (num == 10) break;
        }

        httpServer.stop(0);
    }
}
```

<br>

### [HTTP Client - Bash]
```bash
curl -X POST localhost:8000/test

<!DOCTYPE html>
    <body>
        <h1>
            Response to Your POST Request
        </h1>
    </body>
</html>
```

<br>

### [HTTP Client - Java]
```java

```

<br>
<hr>
<br>
