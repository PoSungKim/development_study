# RestTemplate 
> Server To Server 연결을 위해 사용
* 서버 간의 통신을 위한 Service를 생성해서 Controller로 Service 결과를 반환

<hr>
<br>

## 1. URI 생성

#### 다른 서버의 주소와 리소스를 정의

<br>

### [service.java]

```java
URI uri = UriComponentsBuilder
          .fromUriString("<http://도메인명>")
          .path("<resource명>")
          .encode()
          .build()
          .toUri();

System.out.println(uri.toString());

```

<br>

## 2. RestTemplate 클래스

#### 

<br>

### [service.java]

```java
@Service
public class RestTemplateService {
    public String hello() {
        URI uri = UriComponentsBuilder
                  .fromUriString("http://naver")
                  .path("/api/ser")
                  //.queryParam("name", "Kim")
                  //.queryParam("age", 10);
                  .encode()
                  .build()
                  .toUri();

        System.out.println(uri.toString());

        RestTemplate restTemplate = new RestTemplate();

        // String result = restTemplate.getForObject(uri, String.class); // GET 방식으로 요청을
        // 보내면 Object 형태의 Response를 받고자 한다
        ResponseEntity<String> result = restTemplate.getForEntity(uri, String.class);
        System.out.println(result.getStatusCode());
        System.out.println(result.getBody());

        return result.getBody();
    }
}
```
* ```getForObject```: String, User 등 Data Type 그대로 받을 수 있는 메소드
* ```getForEntity```: Packet 형태로 메타데이터와 데이터를 받을 수 있는 메소드
