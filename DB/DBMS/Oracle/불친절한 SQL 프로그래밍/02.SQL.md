# SQL
> SQL(Structured Query Language) 관계형 데이터베이스의 표준 언어
* 

<hr>
<br>
    
## SQL
#### 

<br>

### 종류
* SELECT
  * SELECT
* DML(Data Manipulation Language)
  * INSERT, UPDATE, DELETE, MERGE
* DDL(Data Definition Language)
  * CREATE, ALTER, DROP, TRUNCATE, COMMENT
* TCS(Transaction Control Statement)
  * COMMIT, ROLLBACK, SAVEPOINT, SET TRANSACTION
* SCS(Session Control Statement)
  * ALTER SESSION, SET ROLE

<br>

### 처리 과정

<div align="center">
    <img width="50%" src="https://github.com/user-attachments/assets/fb012790-72b1-4f90-8e37-c593588da575" />
</div>

* Syntax Check
  * SQL 문법 검사
* Semantic Check
  * 오브젝트와 권한의 존재 유무를 검사
* Shared Pool Check
  * Shared Pool의 Library Cache에 SQL이 저장되어 있는지 검사
* Optimization
  * SQL의 쿼리 변환과 최적화를 수행
* Row Source Generatlon
  * SQL 엔진에 의해 수행될 로우 소스를 생성

<br>

### 수행 과정

<div align="center">
    <img width="50%" src="https://github.com/user-attachments/assets/25f87979-2c3d-4024-8e8f-164a49d44951" />
</div>

* SELECT문의 수행 과정
  * 클라이언트 프로세스가 서버 프로세스로 SELECT문을 전달
  * Buffer Cache에 필요한 데이터 블록이 있는지 확인
  * 없으면, Data File에서 데이터 블록을 읽어 Buffer Cache에 저장
  * 결과 집합을 클라이언트 프로세스에 전달

<div align="center">
    <img width="50%" src="https://github.com/user-attachments/assets/791b649c-ec6c-491b-af8d-885a6b4c84c0" />
</div>

* DML문의 수행 과정
  * 클라이언트 프로세스가 서버 프로세스로 DML문을 전달
  * 언두 세그먼트를 할당하고 Buffer Cache에 필요한 블록이 있는지 확인
    * Undo Segment: 변경 전 데이터가 저장되는 테이블
  * 없으면, Data File에서 블록을 읽어 Buffer Cache에 저장하고 변경할 블록에 락을 설정
  * 데이터 블록과 언두 블록의 변경 사항을 Redo Log Buffer에 기록
  * 언두 블록에 변경 전 데이터를 저장하고 데이터 블록을 변경
  * 변경 결과를 클라이언트 프로세스에 전달

<div align="center">
    <img width="50%" src="https://github.com/user-attachments/assets/f429121e-dbd8-4b90-96ab-3658f128b17f" />
</div>

<hr>
<br>
<hr>

