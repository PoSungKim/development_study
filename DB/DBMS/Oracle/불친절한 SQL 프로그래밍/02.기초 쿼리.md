# 기초 쿼리
> 
* 

<hr>
<br>
    
## 리터럴
#### 리터럴(Literal) 변하지 않는 값

<br>

### 날짜 리터럴
* DATE
  * NLS_DATE_FORMAT
  ```sql
  SELECT DATE '2050-01-01' AS c2
      , TO_DATE('2050-01-01 23:59:59', 'YYYY-MM-DD HH24:MI:SS') AS c2
  FROM DUAL
  ```
* TIMESTAMP
  * NLS_TIMESTAMP_FORMAT
  ```sql
  SELECT TIMESTAMP '2050-01-01 23:59:59.999999999' AS c1 
  FROM DUAL
  ```
* TIMESTAMP WITH TIME ZONE
  * NLS_TIMESTAMP_TZ_FORMAT
  ```sql
  SELECT TIMESTAMP '2050-01-01 23:59:59.999999999 +09:00' AS c1
  FROM DUAL;
  ```

<br>

### 인터벌 리터럴
* 시간의 간격을 지정한다
  * INTERVAL
    * YEAR
    * MONTH
    * DAY
    * HOUR
    * MINUTE
    * SECOND
    * YEAR TO MONTH
    * DAY TO SECOND
    * ...
  * Precision
    * precision
    * leading_precision
    * fractional_seconds_precision

<br>
<hr>
<br>

## 연산자
#### 연산자(operator)와 피연산자(operand)

<br>

### 산술 연산자(arithematic operator)
* 단항
* 이항
* 피연산자
  * 날짜
    * DAY: 산술 연산에 사용되는 숫자 값은 일수 (number of days)로 계산
    ```sql
    SELECT DATE '2050-01-31' + 31 AS c1
          , DATE '2050-01-31' + (1 / 24 / 60 / 60) AS c2
          , DATE '2050-01-31' + INTERVAL 'l' SECOND AS c3
    FROM DUAL
    ```
    ```sql
    SELECT TIMESTAMP '2050-01-31 23:59:59.999999999' + 31 AS c1
         , TIMESTAMP '2050-01-31 23:59:59.999999999' + INTERVAL '31' DAY AS c2
    FROM DUAL
    ```
    * MONTH: ADD_MONTH() 사용 필요
* NULL 처리
  * 산술 연산자에 NULL이 들어오면 NULL이 반환된다

<br>

### 연결 연산자(Concatenation Operator)
* 피연산자를 연결한 문자 값 반화
  * ||
* NULL 처리
  * 무시된다
* 문자형이 아닌 타입 처리
  * 문자형으로 변환

<br>

### 표현식(Expression)
* 단순 CASE 표현식
* 검색 CASE 표현식
  * ELSE 미사용시 조건에 걸리지 않은 케이스는 NULL 리턴
  ```sql
  CASE expr
       {WHEN comparison_expr THEN return_expr} ...
       [ELSE else_expr]
  END
  ```

<br>

### 슈도칼럼(Pseudocolumn)
* 태이블에 저장되지 않은 의사 칼럼으로 쿼리 수행 시점에 값 결정
  * 일반
    * ROWID, ROWNUM, ORA_ROWSCN
  * 계층 쿼리
    * LEVEL, CONNECT_BY_ISLEAF, CONNECT_BY_ISCYCLE
  * 시퀀스
    * CURRVAL, NEXTVAL
  * 버전 쿼리
    * VERSIONS_STARTSCN, VERSIONS_STARTIME
* ROWID
  * 행을 식별할 수 있는 고유 값
    * 오브젝트, 파일, 블록, 행 번호의 조합
 
<br>

### 힌트
* 옵티마이저에 명령을 전달하는 특별한 형태의 주석
  ```sql
  SELECT name, inverse, version
  FROM   V$SQL_HINT
  ```

<br>
<hr>
<br>

## 단일행 함수
#### 내장 SQL 함수(Built-in SQL Function)

<br>

### 함수
* 단일 행 함수: 단일 행을 입력받아 단일 행을 반환하는 함수
* 집계 함수: 다중 행을 입력받아 단일 행을 반환하는 함수
* 분석 함수: 다중 행을 입력받아 다중 행을 반환하는 함수
* 모델 함수: MODEL 절에서 사용하는 함수

<br>

### 문자함수
* CHR(n)
* LOWER(char)
* UPPER(char)
* IINITCAP(char)
* LPAD(expr1, n [, expr2])
* RPAD(expr1, n [, expr2])
* LTRIM(char [, set])
* RTRIM(char [, set])
* TRIM([{{LEADING|TRAILING|BOTH} [trim_character] | trim_character} FROM] trim_source)
* SUBSTR(char, position [, substring_length])
  * SUBSTRB
  * SUBSTRC
  * SUBSTR2
  * SUBSTR4
* REPLACE(char, search_string [, replacement_string])
  * search_string 그대로 찾아서 replacement_string 그래도 치환
* TRANSLATE(expr, from_string, to_string)
  * from_string과 to_string의 index 순서별로 1:1 매핑
  * 다만, 1:1 매핑이 안되면, null 값 반환
* ASCII(char)
* INSTR(string, substring [, position [, occurrence]])
* LENGTH(char)

<br>

### 숫자함수
* ABS(n)
* SIGN(n)
* ROUND(n1 [, n2])
* TRUNC(n1,[, n2])
* CEIL(n)
* FLOOR(n)
* MOD(n1,n2)
* REMAINDER(n1,n2)
* POWER(n1,n2)
* BITAND(expr1,expr2)
* WIDTH_BUCKET(expr,min_value,max_value,num_buckets)

<br>

### 날짜함수
* NLS_DATE_FORMAT: YYYY-MM-DD HH24:MI:SS
* NLS_TIMESTAMP_FORMAT: YYYY-MM-DD HH24:MI:SS.FF
* NLS_TIMESTAMP_TZ_FORMAT: YYYY-MM-DD HH24:MI:SS.FF TZH:TZM
* SYSDATE: DATE
* SYSTIMESTAMP: TIMESTAMP WITH TIME ZONE
* NEXT_DAY(date, char)
* LAST_DAY(date)
* ADD_MONTHS(date, integer)
  * date가 월말이면, 월말일 리턴
* MONTHS_BETWEEN(date1, date2)
* EXTRACT({YEAR|MONTH|DAY|HOUR|MINUTE|SECOND} FROM expr):Number
* ROUND(date[,fmt])
  * Format Model
    * CC:세기 > 연도의 끝 두 자리 51 년
    * YY:년도 > 7월1일
    * Q:분기 > 분기의 둘째 달 16일
    * MM:월 > 16일
    * DD:일 > 12시
    * HH:시 > 31분
    * MI:분 > 31초
    * D:주 > 일요일
    * WW:주 > 연도의 첫째 요일과 같은 그 주의 날짜
    * W:주 > 당월의 첫째 요일과 같은 그 주의 날짜

<br>

### 

<br>
<hr>
<br>

