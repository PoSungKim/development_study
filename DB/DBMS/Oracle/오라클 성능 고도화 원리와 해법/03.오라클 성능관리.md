# 오라클 성능관리
> 
* SQL 튜닝
  * 문제점 확인
    * EXPLAIN PLAIN
    * AutoTrace 혹은 SQL 트레이스
  * 문제점 해결
    * 쿼리 변환 혹은 옵티마이저 힌트 
    * 인덱스 조정
    * 반정규화 혹은 집계 테이블 생성

<hr>
<br>

## Explain Plan
#### sys.plan_table, all_synonyms

<br>

### Explain Plan
* 오라클 10g부터는 sys.plan_table이 자동 생성된다
```sql
SELECT owner, synonym_name, table_owner, table_name
FROM   all_synonyms
WHERE  synonym_name = 'PLAN_TABLE';
```

* SQL 수행하기 전에 실행계획 확인고자 할 때, EXPLAIN PLAN 명령어 사용
```sql
EXPLAIN PLAN SET statement_id = 'query1' FOR
SELECT * FROM emp WHERE empno = 7900;
```

<br>
<hr>
<br>

## AutoTrace
#### SQL 튜닝을 위한 유용한 정보를 제공하는 도구

<br>

### AutoTrace
```sql
SET AUTOTRACE ON

SELECT * FROM emp WHERE empno = 7900;
```
* 명령어 결과 구성
  * 쿼리수행결과
  * 실행계획
  * 실행통계
* 명령어
  * set autotrace on
    * 결과 + 실행계획 + 실행통계
  * set autotrace on explain
    * 결과 + 실행계획
  * set autotrace on statistics
    * 결과 + 실행통계
  * set autotrace traceonly
    * 실행계획 + 실행통계
  * set autotrace traceonly explain
    * 실행계획
  * set autotrace traceonly statistics
    * 실행통계

<br>

### SQL 트레이스

<br>
<hr>
<br>
