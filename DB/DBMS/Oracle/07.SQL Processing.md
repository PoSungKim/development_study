# SQL Processing
> 
* [Docs Oracle - SQL Processing](https://docs.oracle.com/en/database/oracle/oracle-database/23/tgsql/sql-processing.html#GUID-B3415175-41F2-4EBB-95CF-5F8B5C39E927)

<hr>
<br>

## 
#### 

<div align="center">
  <img width="30%" src="https://github.com/user-attachments/assets/a6678dad-57a7-4abd-8f72-0a79bb2ea593">
</div>

<br>

### SQL Parsing
* Syntax Error
  ```sql
  SQL> SELECT * FORM employees;
  SELECT * FORM employees
           *
  ERROR at line 1:
  ORA-00923: FROM keyword not found where expected
  ```
* Semantic Error
  ```sql
  SQL> SELECT * FROM nonexistent_table;
  SELECT * FROM nonexistent_table
                *
  ERROR at line 1:
  ORA-00942: table or view does not exist
  ```

<div align="center">
  <img width="50%" src="https://github.com/user-attachments/assets/b89a20ea-1640-4967-9585-f6e00254a366">
</div>

* Shared Pool Check
  * Shared Pool -> Shared SQL Area (Cursor Cache)
    * DDL (w/o Subquery) && DML -> Hard Parse (library cache miss)
      * Latch
    * DML (w/ Subquery) -> Soft Parse (library cache hit)
      * Semantic Error Check
      * Optimizer Environment Check

<br>

### Optimization
* Generation of Multiple Execution Plans
  * Query Transformer
  * Estimator
  * Plan Generator

<br>

### Row-Source Generation
* Generation of Query Plan
  * iterative execution plan (iterative execution plan)
    ```
    SELECT e.last_name, j.job_title, d.department_name 
    FROM   hr.employees e, hr.departments d, hr.jobs j
    WHERE  e.department_id = d.department_id
    AND    e.job_id = j.job_id
    AND    e.last_name LIKE 'A%';
     
    Execution Plan
    ----------------------------------------------------------
    Plan hash value: 975837011
    
    ---------------------------------------------------------------------------
    | Id| Operation                    | Name      |Rows|Bytes|Cost(%CPU)|Time|
    ---------------------------------------------------------------------------
    | 0| SELECT STATEMENT              |             | 3 |189 |7(15)|00:00:01 |
    |*1|  HASH JOIN                    |             | 3 |189 |7(15)|00:00:01 |
    |*2|   HASH JOIN                   |             | 3 |141 |5(20)|00:00:01 |
    | 3|    TABLE ACCESS BY INDEX ROWID| EMPLOYEES   | 3 | 60 |2 (0)|00:00:01 |
    |*4|     INDEX RANGE SCAN          | EMP_NAME_IX | 3 |    |1 (0)|00:00:01 |
    | 5|    TABLE ACCESS FULL          | JOBS        |19 |513 |2 (0)|00:00:01 |
    | 6|   TABLE ACCESS FULL           | DEPARTMENTS |27 |432 |2 (0)|00:00:01 |
    ---------------------------------------------------------------------------
     
    Predicate Information (identified by operation id):
    ---------------------------------------------------
     
       1 - access("E"."DEPARTMENT_ID"="D"."DEPARTMENT_ID")
       2 - access("E"."JOB_ID"="J"."JOB_ID")
       4 - access("E"."LAST_NAME" LIKE 'A%')
           filter("E"."LAST_NAME" LIKE 'A%')
    ```
* Row-Source Tree
  * Row-Source (identified by Id Column in the Execution Plan)
    * Ordering of the Tables
    * Access Method
    * Join Method
    * Data Operation

<div align="center">
  <img width="25%" src="https://github.com/user-attachments/assets/4ca975f1-6c75-4a9d-be14-e535b09db249">
</div>

<br>

### Execution
* SQL Engine

<br>
<hr>
<br>
